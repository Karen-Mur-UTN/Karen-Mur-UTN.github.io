<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pinyin</title>
  <script src="./js/script.js"></script>
  <script language="JavaScript1.2"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous" />
  <link rel="stylesheet" href="./css/style.css" />
  <link rel="icon" href="./src/icon.png" type="image/icon type" />
  <meta property="og:title" content="Conversor Pinyin" />
  <meta property="og:url" content="https://karen-mur-utn.github.io/" />
  <meta property="og:description" content="Conversor de tonos Pinyin automático y manual." />
  <meta property="og:image" content="./src/icon.png" />
</head>

<body>
  <main class="container py-2 mt-1 mb-4">
    <div class="row justify-content-center">
      <div class="col-xxl-9 col-lg-11 col-md-12 pt-2 px-4 fondo-suave">
        <div class="table-responsive mx-xxl-5 mx-lg-3">
          <table class="table table-striped text-center align-middle">
            <thead>
              <tr>
                <th colspan="4" scope="col">
                  <h2>Teclado Pīnyīn</h2>
                  <p class="text-muted">
                    Se pueden agregar marcas tonales de dos formas distintas.
                  </p>
                </th>
              </tr>
              <tr>
                <th scope="col" class="align-middle">Automático</th>
                <th scope="col" class="align-middle">
                  Teclado Virtual de Caracteres
                </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <p class="text-muted">
                    Escriba el número de tono junto a la sílaba.
                    <br />Por ejemplo: Ni3 Hao3 = Nǐ Hǎo.
                  </p>
                </td>
                <td>
                  <p class="text-muted">
                    Utilice los botones para insertar el tono en el texto.
                  </p>
                </td>
              </tr>
            </tbody>
          </table>
        </div>

      </div>
      <div class="row justify-content-center px-1 pt-0">
        <div class="col-xxl-9 col-xl-11 col-lg-11 col-md-12 col-sm-12 col-12 text-center">
          <form type="text" name="conversion" id="conversion" method="post">
            <div class="border px-xl-4 pt-xl-2 p-2 text-center">
              <textarea placeholder="Escriba aquí..." name="textoUsuario" id="textoUsuario" rows="6"
                class="ctpinyintextarea form-control m-auto mb-0" onkeyup="transcrire()"></textarea>
              <div class="mt-2">
                <input type="button" onclick="adchar('ā')" value="ā" class="ctpinyinbutton color-1" />
                <input type="button" onclick="adchar('á')" value="á" class="ctpinyinbutton color-1" />
                <input type="button" onclick="adchar('ǎ')" value="ǎ" class="ctpinyinbutton color-1" />
                <input type="button" onclick="adchar('à')" value="à" class="ctpinyinbutton color-1" />
                <input type="button" onclick="adchar('ē')" value="ē" class="ctpinyinbutton color-2" />
                <input type="button" onclick="adchar('é')" value="é" class="ctpinyinbutton color-2" />
                <input type="button" onclick="adchar('ě')" value="ě" class="ctpinyinbutton color-2" />
                <input type="button" onclick="adchar('è')" value="è" class="ctpinyinbutton color-2" />
                <input type="button" onclick="adchar('ō')" value="ō" class="ctpinyinbutton color-3" />
                <input type="button" onclick="adchar('ó')" value="ó" class="ctpinyinbutton color-3" />
                <input type="button" onclick="adchar('ǒ')" value="ǒ" class="ctpinyinbutton color-3" />
                <input type="button" onclick="adchar('ò')" value="ò" class="ctpinyinbutton color-3" />
                <input type="button" onclick="adchar('ī')" value="ī" class="ctpinyinbutton color-4" />
                <input type="button" onclick="adchar('í')" value="í" class="ctpinyinbutton color-4" />
                <input type="button" onclick="adchar('ǐ')" value="ǐ" class="ctpinyinbutton color-4" />
                <input type="button" onclick="adchar('ì')" value="ì" class="ctpinyinbutton color-4" />
                <input type="button" onclick="adchar('ū')" value="ū" class="ctpinyinbutton color-5" />
                <input type="button" onclick="adchar('ú')" value="ú" class="ctpinyinbutton color-5" />
                <input type="button" onclick="adchar('ǔ')" value="ǔ" class="ctpinyinbutton color-5" />
                <input type="button" onclick="adchar('ù')" value="ù" class="ctpinyinbutton color-5" />
                <input type="button" onclick="adchar('ǖ')" value="ǖ" class="ctpinyinbutton color-6" />
                <input type="button" onclick="adchar('ǘ')" value="ǘ" class="ctpinyinbutton color-6" />
                <input type="button" onclick="adchar('ǚ')" value="ǚ" class="ctpinyinbutton color-6" />
                <input type="button" onclick="adchar('ǜ')" value="ǜ" class="ctpinyinbutton color-6" />
              </div>
            </div>
          </form>
          <button onclick="copyText()" class="btn btn-lg btn-primary mt-2" aria-describedby="tooltip" id="button" style="
                background-color: rgb(75, 21, 26);
                border-color: rgb(119, 44, 49);
              " ;>
            Copiar texto
          </button>
          <div id="tooltip" role="tooltip">
            Texto copiado
            <div id="arrow" data-popper-arrow></div>
          </div>
          <button onclick="eraseText()" class="btn btn-lg btn-secondary mt-2"
            style="background-color: rgb(102, 80, 80)">
            Borrar texto
          </button>
        </div>
      </div>
    </div>
  </main>

  <!--Script-->
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script>
    const button = document.querySelector("#button");
    const tooltip = document.querySelector("#tooltip");

    const popperInstance = Popper.createPopper(button, tooltip, {
      modifiers: [
        {
          name: "offset",
          options: {
            offset: [0, 8],
          },
        },
      ],
    });

    function show() {
      tooltip.setAttribute("data-show", "");
      popperInstance.update();
    }

    function hide() {
      tooltip.removeAttribute("data-show");
    }

    const showEvents = ["click", "focus"];
    const hideEvents = ["mouseleave", "blur"];

    showEvents.forEach((event) => {
      button.addEventListener(event, show);
    });

    hideEvents.forEach((event) => {
      button.addEventListener(event, hide);
    });
  </script>
</body>

</html>
